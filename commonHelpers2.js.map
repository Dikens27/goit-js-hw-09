{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FEEDBACK_DATA_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst initialFormData = JSON.parse(localStorage.getItem(FEEDBACK_DATA_KEY));\n\nif (initialFormData) {\n    try {\n        if (initialFormData[\"email\"]) {\n            form.elements[\"email\"].value = initialFormData[\"email\"];\n        }\n        if (initialFormData[\"message\"]) {\n            form.elements[\"message\"].value = initialFormData[\"message\"];\n        }\n    } catch (e) {\n        console.error(\"Помилка парсингу даних локального сховища\");\n    }\n}\n\n\nconst createFormObj = (formData) => {\n    const formObj = {};\n\n    formData.forEach((value, key) => {\n        formObj[key] = value.trim();\n    });\n\n    return formObj;\n}; \n\nform.addEventListener(\"input\", () => {\n    const formData = new FormData(form);\n\n    localStorage.setItem(FEEDBACK_DATA_KEY, JSON.stringify(createFormObj(formData)));\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault(); \n\n    const data = new FormData(event.target);\n    const { email, message } = event.target.elements;\n    \n    if (!email.value.trim() || !message.value.trim()) {\n        return alert(\"Поле не може бути пустим\");\n    }\n    const formData = new FormData(event.currentTarget);\n    console.log(createFormObj(formData));\n    event.currentTarget.reset();\n    localStorage.removeItem(FEEDBACK_DATA_KEY);\n});\n\n "],"names":["FEEDBACK_DATA_KEY","form","initialFormData","createFormObj","formData","formObj","value","key","event","email","message"],"mappings":"oCAAA,MAAMA,EAAoB,sBACpBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,KAAK,MAAM,aAAa,QAAQF,CAAiB,CAAC,EAE1E,GAAIE,EACA,GAAI,CACIA,EAAgB,QAChBD,EAAK,SAAS,MAAS,MAAQC,EAAgB,OAE/CA,EAAgB,UAChBD,EAAK,SAAS,QAAW,MAAQC,EAAgB,QAExD,MAAC,CACE,QAAQ,MAAM,2CAA2C,CAC5D,CAIL,MAAMC,EAAiBC,GAAa,CAChC,MAAMC,EAAU,CAAA,EAEhB,OAAAD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAQE,GAAOD,EAAM,KAAI,CACjC,CAAK,EAEMD,CACX,EAEAJ,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMG,EAAW,IAAI,SAASH,CAAI,EAElC,aAAa,QAAQD,EAAmB,KAAK,UAAUG,EAAcC,CAAQ,CAAC,CAAC,CACnF,CAAC,EAEDH,EAAK,iBAAiB,SAAWO,GAAU,CACvCA,EAAM,eAAc,EAEP,IAAI,SAASA,EAAM,MAAM,EACtC,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAM,OAAO,SAExC,GAAI,CAACC,EAAM,MAAM,KAAI,GAAM,CAACC,EAAQ,MAAM,OACtC,OAAO,MAAM,0BAA0B,EAE3C,MAAMN,EAAW,IAAI,SAASI,EAAM,aAAa,EACjD,QAAQ,IAAIL,EAAcC,CAAQ,CAAC,EACnCI,EAAM,cAAc,QACpB,aAAa,WAAWR,CAAiB,CAC7C,CAAC"}